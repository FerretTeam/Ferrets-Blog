<div class='home-layout'>
  <div class='articles-container'>
    <!-- 在非窄屏上显示的文章界面 -->
    <div fxHide.xs>
      <md-card *ngFor='let article of articles'>
        <!-- 有图片的 card 标题 -->
        <div *ngIf='article.image' class='article-image' [style.background-image]="'url(' + article.image + ')'">
          <div class='article-image-shadow'>
            <span class='article-image-title'>{{article.title}}</span>
          </div>
        </div>
        <!-- 无图片的 card 标题 -->
        <div *ngIf='article.image == null' class='article-title'>
          <span>{{article.title}}</span>
        </div>
        <md-card-content>
          <span class='article-date'>{{article.date}}</span>
          <p class='article-synopsis'>{{article.synopsis}}</p>
        </md-card-content>
        <md-card-actions>
          <button md-icon-button (click)='gotoEdit(article.title)' mdTooltip='修改文章'>
            <md-icon>create</md-icon>
          </button>
          <button md-icon-button mdTooltip='分享文章'>
            <md-icon>share</md-icon>
          </button>
          <button md-button (click)='gotoArticle(article.title)' class='article-read-more' md-raised-button>阅读全文</button>
        </md-card-actions>
      </md-card>

      <div class='page-controller'>
        <button *ngIf='pageNumber != 0' md-icon-button class='page-button' (click)='turnPage(pageNumber - 1)'>
          <md-icon>arrow_back</md-icon>
        </button>
        <span *ngFor='let number of localPageNumbers'>
          <button *ngIf='number != pageNumber' md-icon-button class='page-button page-number' (click)='turnPage(number)'>
            {{number}}
          </button>
          <button *ngIf='number == pageNumber' md-icon-button class='page-button page-number selected-page'>
            {{number}}
          </button>
        </span>
        <button *ngIf='pageNumber != maxPageNumber' md-icon-button class='page-button' (click)='turnPage(pageNumber + 1)'>
          <md-icon>arrow_forward</md-icon>
        </button>
      </div>
    </div>

    <!-- 在窄屏上显示的文章界面 -->
    <div fxHide.gt-xs>
      <md-card>
        <div *ngFor='let article of articles' class='m-articles-container' (click)='gotoArticle(article.title)'>
          <!-- 有图片的 card 模板 -->
          <div *ngIf='article.image' class='flex-container m-article-container' fxLayout='row'>
            <div class='flex-item m-article-content-container' fxFlex='61.8%'>
              <span>{{article.title}}</span>
              <p class='m-article-date'>{{article.date}}</p>
            </div>
            <div class='flex-item m-article-image-container' fxFlex>
              <div class='m-article-image' [style.background-image]="'url(' + article.image + ')'"></div>
            </div>
          </div>
          <!-- 无图片的 card 模板 -->
          <div *ngIf='article.image == null' class='m-article-content-container'>
            <span>{{article.title}}</span>
            <p class='m-article-date'>{{article.date}}</p>
            <p class='m-article-synopsis'>{{article.synopsis}}</p>
          </div>
        </div>
      </md-card>
      <div class='page-controller'>
        <button *ngIf='pageNumber != 0' md-icon-button class='m-page-button' (click)='turnPage(pageNumber - 1)'>
          <md-icon>arrow_back</md-icon>
        </button>
        <span class='m-page-number'>第 {{pageNumber}} 页</span>
        <button *ngIf='pageNumber != maxPageNumber' md-icon-button class='m-page-button' (click)='turnPage(pageNumber + 1)'>
          <md-icon>arrow_forward</md-icon>
        </button>
      </div>
    </div>
  </div>

  <div class='tags-container'>
    <md-card class='tag'>
      <div class='tag-title'><span>最热文章</span></div>
      <button md-button class='tag-list-button' *ngFor='let article of popArticles' (click)='gotoArticle(article.title)'>{{article.title}}</button>
      <div class='tag-footer'></div>
    </md-card>
    <md-card class='tag'>
      <div class='tag-title'>
        <span>标 签</span>
      </div>
      <md-card-content>
        <md-chip-list>
          <md-chip *ngFor='let tag of tags'>{{tag.tagName}}</md-chip>
        </md-chip-list>
      </md-card-content>
    </md-card>
  </div>
</div>
